<div class="app-container">
  <header class="header">
    <img src="assets/logo.svg" alt="Trusty" class="logo-img" />
    <div class="tagline">Scopri in pochi secondi se il sito su cui vuoi fare acquisti √® sicuro.</div>
  </header>

  <main class="main">
    <app-url-input
      [isLoading]="isLoading"
      (urlSubmit)="onCheckUrl($event)"
      (helpClick)="showHelpModal = true"
      (infoClick)="showInfoModal = true"
    />

    @if (!isLoading && !result && !error) {
      <div class="empty-state">
        <div class="shield-container">
          <svg class="shield-icon" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path class="shield-body" d="M32 4L8 14V30C8 46.5 18.5 56.5 32 60C45.5 56.5 56 46.5 56 30V14L32 4Z"
                  stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
            <path class="checkmark" d="M22 32L29 39L42 26"
                  stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <p class="empty-state-text">Inserisci un link per iniziare la verifica</p>
      </div>
    }

    @if (isLoading) {
      <app-loading message="Analisi in corso" />
    }

    @if (result && !isLoading) {
      <app-trust-result [result]="result" />
      <app-share-buttons [result]="result" />
    }

    @if (error && !isLoading) {
      <div class="error-message">
        <span class="error-icon">‚ö†Ô∏è</span>
        <span>{{ error }}</span>
      </div>
    }
  </main>

  <footer class="footer">
    <p class="disclaimer">
      Trusty fornisce una stima automatizzata basata su fattori pubblici. Non
      garantisce la legittimit√† di alcun sito. Verifica sempre autonomamente prima
      di acquistare.
    </p>

    @if (!isInstalled) {
      <button class="install-btn" (click)="installApp()">üì≤ Installa App</button>
    }
  </footer>

  @if (showInfoModal) {
    <app-info-modal (close)="showInfoModal = false" />
  }

  @if (showHelpModal) {
    <app-help-modal (close)="showHelpModal = false" />
  }
</div>
