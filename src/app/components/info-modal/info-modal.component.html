<div class="modal-overlay" (click)="onOverlayClick($event)">
  <div class="modal-content">

    <div class="modal-header">
      <h2>Come funziona <span style="color: var(--primary);">Trusty</span>?</h2>
    </div>

    <div class="modal-body">
      <section class="info-section">
        <h3>üåê Verifiche con API esterne</h3>
        <p>Trusty interroga <strong>servizi esterni affidabili</strong> per ottenere dati verificati:</p>
        <ul>
          <li><strong>Google Safe Browsing</strong> ‚Äî Database Google di siti con malware o phishing</li>
          <li><strong>Et√† del dominio (RDAP)</strong> ‚Äî Quando √® stato registrato il dominio</li>
          <li><strong>Certificato SSL</strong> ‚Äî Verifica diretta della connessione sicura</li>
          <li><strong>Reputazione dominio</strong> ‚Äî Analisi fraud score e attivit√† sospette</li>
          <li><strong>Recensioni online</strong> ‚Äî Valutazioni su Trustpilot</li>
        </ul>
      </section>

      <section class="info-section">
        <h3>üîç Controlli proprietari Trusty</h3>
        <p>Analisi sviluppate da noi per il <strong>mercato italiano</strong>:</p>
        <ul>
          <li><strong>Typosquatting</strong> ‚Äî Domini simili a brand famosi (es. amaz0n.com)</li>
          <li><strong>TLD sospetti</strong> ‚Äî Estensioni spesso usate per truffe (.xyz, .top)</li>
          <li><strong>Pattern sospetti</strong> ‚Äî Caratteri e strutture anomale nel dominio</li>
          <li><strong>Indicatori italiani</strong> ‚Äî Presenza P.IVA, sede legale, pagine obbligatorie</li>
        </ul>
      </section>

      <section class="info-section">
        <h3>üìä Come calcoliamo il punteggio</h3>
        <p>Ogni controllo ha un peso specifico nel punteggio finale:</p>
        <div class="score-breakdown">
          <div class="score-item">
            <span class="score-label">Safe Browsing</span>
            <span class="score-weight">Filtro</span>
          </div>
          <div class="score-item">
            <span class="score-label">Et√† dominio</span>
            <span class="score-weight">15%</span>
          </div>
          <div class="score-item">
            <span class="score-label">Certificato SSL</span>
            <span class="score-weight">15%</span>
          </div>
          <div class="score-item">
            <span class="score-label">Controlli Trusty</span>
            <span class="score-weight">15%</span>
          </div>
          <div class="score-item">
            <span class="score-label">Recensioni</span>
            <span class="score-weight">10-30%</span>
          </div>
          <div class="score-item">
            <span class="score-label">Reputazione</span>
            <span class="score-weight">25-45%</span>
          </div>
        </div>
        <p style="font-size: 0.85em; margin-top: 0.5em; opacity: 0.8;">
          Il peso delle recensioni aumenta con il numero di valutazioni disponibili (da 10% a 30%), mentre il peso della reputazione si adegua di conseguenza.
        </p>
      </section>

      <section class="info-section disclaimer-section">
        <h3>‚ö†Ô∏è Importante</h3>
        <p>
          Trusty fornisce una <strong>stima automatizzata</strong> basata su fattori pubblicamente verificabili.
          Tuttavia, <strong>nessun sistema √® infallibile</strong>: alcuni siti fraudolenti potrebbero adottare
          strategie sofisticate per ingannare i controlli automatici.
        </p>
        <p>
          <strong>Verifica sempre autonomamente</strong> prima di effettuare acquisti, specialmente per
          importi elevati. In caso di dubbi, preferisci metodi di pagamento che offrono protezione acquirenti.
        </p>
      </section>
    </div>

    <div class="modal-footer">
      <button class="got-it-btn" (click)="close.emit()">Ho capito</button>
    </div>
  </div>
</div>
